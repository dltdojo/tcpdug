# 202109 XCM (The Cross-Consensus Message)

- [GitHub - paritytech/xcm-format: Polkadot Cross Consensus-system Message format.](https://github.com/paritytech/xcm-format)
- [Cross-chain Message Passing (XCMP) · Polkadot Wiki](https://wiki.polkadot.network/docs/learn-crosschain)
- [Substrate Builders Program Office Hours: XCM AMA - YouTube](https://www.youtube.com/watch?v=cS8GvPGMLS0)
- [XCM: The Cross-Consensus Message Format | by Gavin Wood | Polkadot Network | Sep, 2021 | Medium](https://medium.com/polkadot-network/xcm-the-cross-consensus-message-format-3b77b1373392)
- [Gavin Wood：詳解跨共識消息格式 XCM 設計原理與運轉機制 - 鏈聞 ChainNews](https://www.chainnews.com/zh-hant/articles/677003123593.htm)

# 概念理解輔助環境

理解抽象的資訊系統訊息傳遞的概念使用 kubernetes 為基礎的輔助環境會很有幫助，其生態圈豐富可快速建置出各種可增進學習與理解的環境。

[編碼環境](../code.md)

# 管中物

位元流無限定格式

[Pipeline (Unix) - Wikipedia](https://en.wikipedia.org/wiki/Pipeline_(Unix))

> In Unix-like computer operating systems, a pipeline is a mechanism for inter-process communication using message passing. A pipeline is a set of processes chained together by their standard streams, so that the output text of each process (stdout) is passed directly as input (stdin) to the next one. The second process is started as the first process is still executing, and they are executed concurrently. 

> For example, to list files in the current directory (ls), retain only the lines of ls output containing the string "key" (grep), and view the result in a scrolling page (less), a user types the following into the command line of a terminal: 

```
ls -l | grep key | less
```

跨機器的網路管線

- [OSI model - Wikipedia](https://en.wikipedia.org/wiki/OSI_model)
- [Install Rust - Rust Programming Language](https://www.rust-lang.org/tools/install)

```
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

[kubectl Cheat Sheet | Kubernetes](https://kubernetes.io/docs/reference/kubectl/cheatsheet/)

```
# Update a single-container pod's image version (tag) to v4
kubectl get pod mypod -o yaml | sed 's/\(image: myimage\):.*$/\1:v4/' | kubectl replace -f -
```

# 跨鏈的可組合型模型(OSI model?)

跨共識訊息為何需要特定規格？位元流不行？

```
ChainAlice Dapp101 | ChainBob Dapp876+ERC20 | sed 's/balance:199/balance:299/1' | ChainFoo Dapp333
```

> Secondly, common use-cases on chains do not easily fit into a single transaction; special tricks may be required to withdraw funds, exchange them and then deposit the result all inside a single transaction. Onward notifications of transfers, needed for a coherent reserve-asset framework, do not exist in chains unaware of others.

```
ChainAlice Banking101-Withdraw | ChainBob DappSwap343-Exchange | tee notification-ChainBar | ChainFoo Dapp786-Deposit
```

XCM Goals

> XCM aims to be a language communicating ideas between consensus systems. It should be general enough for it to be properly useful throughout a growing ecosystem. It should be extensible. Since the extensibility will inevitably imply change, it should also be future-proof and forwards-compatible. Finally, it should be efficient enough to run on-chain, and possibly in a metered environment.